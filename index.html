<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEBULA VOID | THE 50$ ARCHIVE</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Cairo:wght@200;900&display=swap" rel="stylesheet">

    <style>
        :root { --p: #00f2ff; --g: #ffd700; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        /* إظهار السهم وإصلاح مشكلة الاختفاء */
        body, html { 
            background: #000; 
            color: #fff; 
            overflow: hidden; 
            font-family: 'Cairo', sans-serif;
            cursor: crosshair !important; /* سهم احترافي ظاهر دائماً */
        }

        #nebula-canvas { position: fixed; top: 0; left: 0; z-index: 0; }

        /* واجهة المستخدم السينمائية */
        .main-ui {
            position: relative; z-index: 10;
            height: 100vh; display: flex; flex-direction: column;
            justify-content: space-between; padding: 40px;
            pointer-events: none;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(50px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 60px;
            padding: 60px; width: 100%; max-width: 700px;
            margin: 0 auto; pointer-events: auto;
            box-shadow: 0 0 100px rgba(0,0,0,0.5);
            text-align: center;
        }

        input {
            width: 100%; background: transparent; border: none;
            border-bottom: 1px solid rgba(255,255,255,0.2);
            padding: 20px; color: var(--p); font-size: 2.5rem;
            text-align: center; outline: none; margin-bottom: 40px;
            font-weight: 200; transition: 0.5s;
        }
        input:focus { border-bottom-color: var(--p); letter-spacing: 10px; }

        /* أزرار النخبة */
        .btn-send { 
            background: #fff; color: #000; padding: 20px 50px; 
            border-radius: 100px; font-weight: 900; transition: 0.4s;
        }
        .btn-send:hover { background: var(--p); transform: scale(1.1) rotate(-2deg); }

        .btn-gold { 
            border: 1px solid var(--g); color: var(--g); padding: 20px 50px; 
            border-radius: 100px; font-weight: 900; position: relative;
            overflow: hidden; animation: pulse 2s infinite;
        }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(255,215,0,0.4); } 70% { box-shadow: 0 0 0 20px rgba(255,215,0,0); } 100% { box-shadow: 0 0 0 0 rgba(255,215,0,0); } }

        .floating-word {
            position: absolute; pointer-events: none; z-index: 5;
            font-family: 'Orbitron'; font-weight: 900; text-transform: uppercase;
        }

        /* شريط المعلومات الجانبي */
        .info-panel {
            position: fixed; left: 40px; top: 50%; transform: translateY(-50%);
            z-index: 100; font-family: 'Orbitron'; font-size: 8px;
            letter-spacing: 3px; color: rgba(255,255,255,0.2);
        }
    </style>
</head>
<body>

    <canvas id="nebula-canvas"></canvas>

    <div class="info-panel">
        <p>STATUS: ELITE_ACCESS</p><br>
        <p>PRICE_POINT: 50.00 USD</p><br>
        <p>SERVER: GLOBAL_NEBULA_1</p>
    </div>

    <div class="main-ui">
        <header class="flex justify-between items-start">
            <div class="brand">
                <h1 class="text-6xl font-black tracking-[20px] opacity-40 italic">NEBULA</h1>
                <p class="text-[10px] tracking-[5px] text-cyan-400">THE SUPREME ARCHIVE</p>
            </div>
            <div class="text-right text-[10px] opacity-20">
                COORDINATES: <span id="cx">0</span>, <span id="cy">0</span>
            </div>
        </header>

        <div class="glass-card">
            <p class="text-[10px] tracking-[1em] mb-10 opacity-30">أطلق روحك في الفراغ الأبدي</p>
            <input type="text" id="soulInput" maxlength="30" placeholder="ماذا تريد أن تخلّد؟">
            <div class="flex flex-col md:flex-row gap-5 justify-center">
                <button onclick="launchSoul()" class="btn-send">إرسال للفراغ</button>
                <button onclick="premium()" class="btn-gold uppercase">Golden Legacy ($50)</button>
            </div>
        </div>

        <footer class="flex justify-between items-end opacity-20 text-[8px] tracking-[5px]">
            <div>© 2026 NEBULA VOID CORP.</div>
            <div>AUTHORIZED PERSONNEL ONLY</div>
        </footer>
    </div>

    <script>
        // --- 1. المحرك البصري 3D (الإصلاح الشامل) ---
        const canvas = document.getElementById('nebula-canvas');
        const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 2000);
        camera.position.z = 1000;

        // توليد نجوم ذكية
        const starGeo = new THREE.BufferGeometry();
        const starPos = [];
        for(let i=0; i<10000; i++) {
            starPos.push((Math.random()-0.5)*2000, (Math.random()-0.5)*2000, (Math.random()-0.5)*2000);
        }
        starGeo.setAttribute('position', new THREE.Float32BufferAttribute(starPos, 3));
        const starMat = new THREE.PointsMaterial({ color: 0xffffff, size: 1, transparent: true });
        const stars = new THREE.Points(starGeo, starMat);
        scene.add(stars);

        function animate() {
            requestAnimationFrame(animate);
            stars.rotation.y += 0.0005;
            renderer.render(scene, camera);
        }
        animate();

        // --- 2. تفاعل الماوس والكتابة ---
        window.addEventListener('mousemove', (e) => {
            document.getElementById('cx').innerText = e.clientX;
            document.getElementById('cy').innerText = e.clientY;
            
            // تحريك الكاميرا ببطء مع الماوس لزيادة العمق
            gsap.to(camera.position, {
                x: (e.clientX - window.innerWidth/2) * 0.1,
                y: -(e.clientY - window.innerHeight/2) * 0.1,
                duration: 1
            });
        });

        // --- 3. إرسال الأرواح (أنيميشن عالمي) ---
        function launchSoul() {
            const input = document.getElementById('soulInput');
            const val = input.value.trim();
            if(!val) return;

            const word = document.createElement('div');
            word.className = 'floating-word';
            word.innerText = val;
            word.style.color = hsl(${Math.random()*360}, 100%, 75%);
            word.style.fontSize = Math.random()*50 + 30 + 'px';
            word.style.left = '50%';
            word.style.top = '50%';
            document.body.appendChild(word);

            // أنيميشن الانفجار نحو الشاشة
            gsap.fromTo(word, 
                { xPercent: -50, yPercent: -50, scale: 0, opacity: 0, z: 0 },
                { 
                    scale: 10, opacity: 1, duration: 4, ease: "power4.in",
                    onComplete: () => {
                        gsap.to(word, { opacity: 0, duration: 1, onComplete: () => word.remove() });
                    }
                }
            );

            input.value = "";
        }

        function premium() {
            const confirmPay = confirm("هل أنت مستعد لتخليد اسمك بنجمة ذهبية مقابل 50$؟");
            if(confirmPay) {
                window.open('https://paypal.me/YOUR_USERNAME/50', '_blank');
            }
        }

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
